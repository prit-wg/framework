<?php$action = isset($_GET['action']) ? $_GET['action'] : 'list';$action = isset($_GET['section']) ? $_GET['section'] : 'list';$action = isset($_GET['id']) ? $_GET['id'] : 0;switch ($action):    case 'list':        $QueryObj = new query('slideshow');        $QueryObj->AllowPaging = true;        $QueryObj->PageSize = ADMIN_CATEGORY_PAGE_SIZE;        $QueryObj->PageNo = isset($_GET['page']) ? $_GET['page'] : 1;        $QueryObj->DisplayAll();        break;    case 'insert':        if (isset($_POST['submit'])):            $QueryObj = new query('slideshow');            $not = array('submit', 'is_active');            $QueryObj->Data = MakeDataArray($_POST, $not);            $QueryObj->Data['is_active'] = isset($_POST['is_active']) ? 1 : 0;            $QueryObj->Insert();            $admin_user->set_pass_msg('The slideshow has been added.');            Redirect(make_admin_url('banner', 'list', 'list', 'id=' . $_POST['id']));        endif;        break;    case'update':        $QueryObj = new query('slideshow');        $QueryObj->Where = "where id='" . $id . "'";        $banner = $QueryObj->DisplayOne();        if (isset($_POST['submit'])):            $QueryObj = new query('slideshow');            $not = array('submit', 'is_active');            $QueryObj->Data = MakeDataArray($_POST, $not);            $QueryObj->Data['id'] = $id;            $QueryObj->Data['is_active'] = isset($_POST['is_active']) ? 1 : 0;            $QueryObj->Update();            $admin_user->set_pass_msg('The slideshow has been updated');            Redirect(make_admin_url('banner', 'list', 'list', 'id=' . $banner->id));        endif;        break;    case 'update2':        if (isset($_POST['submit'])):            $query = new query('slideshow');            $query->Data['is_active'] = '0';            $query->UpdateCustom();            foreach ($_POST['is_active'] as $k => $v):                $q = new query('slideshow');                $q->Data['is_active'] = 1;                $q->Data['id'] = $k;                $q->Update();            endforeach;        endif;        $admin_user->set_pass_msg('Operation has been performed successfully');        Redirect(make_admin_url('banner', 'list', 'list', 'id=' . $id));        break;    case'delete':        $QueryObj = new query('slideshow');        $QueryObj->id = $id;        $QueryObj->Delete();        Redirect(make_admin_url('banner', 'list', 'list', 'id=' . $id));        break;    default:break;endswitch;?>